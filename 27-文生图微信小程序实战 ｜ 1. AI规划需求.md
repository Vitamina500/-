AI新手网，https://aixinshou.com/  全站9.9元终身免费下载！

本文介绍如何使用 Cursor 辅助完成微信小程序的需求分析和技术文档编写。我们将展示 Cursor 如何帮助开发者梳理需求、设计技术方案、创建 UI/UX 原型以及规划实现步骤。通过这个实例，你可以了解 AI 辅助开发的基本流程和方法。

这个实战项目使用的是 Cursor 最新的 0.49.1 版本，大模型是 Claude 3.7 Sonnet。

创建项目
----

大家先创建一个项目，例如 `ai-mini-app`，然后用 Cursor 打开这个项目，后续我们也会在该目录搭建项目。

建议通过章节 [版本控制](https://juejin.cn/book/7493106499665788940/section/7493147303474102311 "https://juejin.cn/book/7493106499665788940/section/7493147303474102311") 中介绍的方式，从 Github 创建，然后克隆到本地。全程一定要用版本控制，及时提交，避免 Cursor 改出问题，还能通过版本控制回退。

需求分析
----

打开 Cursor 聊天窗口，输入下面的提示词，生成需求分析文档。

```markdown
我要做一个微信小程序，需求如下
1. 输入文字生成图片
2. 图片生成调用 Coze API
3. 可以选择生成的图片类型，三种：人物、动漫、通用，默认是通用
4. 可以默认给几个提示词案例，让用户自己选择
5. 不需要保留生成的历史记录

根据以上内容，整理一份需求分析文档，放在 docs/ 目录下

注意，只是需求分析，不要写技术方案和实现细节
```

以下为 Cursor 生成需求分析文档的过程。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/306f8994e1bb4dbda1e7a381a79415cb~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=691&h=1124&s=172779&e=png&b=262524)

上面的提示词是我优化过的。一开始我直接输入需求，Cursor 生成的需求文档很全面。但我们作为课程主要是带大家学习如何使用 Cursor 来开发小程序，因此需求分析文档做了简化，只保留核心需求。以下是最终的需求分析文档。

```markdown
# 文字生成图片微信小程序需求分析

## 项目概述

本项目是一个微信小程序，主要功能是让用户通过输入文字提示词来生成图片。该小程序将调用Coze API实现图片生成功能，并提供多种图片类型选择。

## 功能需求

### 1. 文字生成图片
- 用户可以输入文字提示词
- 系统根据用户输入的提示词调用Coze API生成图片
- 生成的图片将显示在界面上供用户查看

### 2. 图片类型选择
- 用户可以选择生成的图片类型，共有三种类型：
  - 人物
  - 动漫
  - 通用
- 默认选择"通用"类型

### 3. 提示词案例
- 小程序提供多个预设的提示词案例
- 用户可以直接选择这些案例作为输入
- 案例应当涵盖不同场景和风格，给用户提供参考和灵感

### 4. 其他要求
- 不需要保存或显示用户生成图片的历史记录
- 界面应简洁易用
- 生成过程中应提供适当的加载提示

## 用户界面需求

### 主界面
- 文字输入区域：用户输入提示词的文本框
- 图片类型选择区：提供三种图片类型的选项（人物、动漫、通用）
- 推荐提示词区域：显示预设的提示词案例供用户选择
- 生成按钮：用户点击后开始生成图片
- 图片显示区域：展示生成的图片结果

### 用户交互流程
1. 用户打开小程序，看到主界面
2. 用户可以选择图片类型（默认为"通用"）
3. 用户可以选择预设提示词或输入自定义提示词
4. 用户点击生成按钮，系统开始生成图片
5. 生成过程中显示加载动画
6. 图片生成完成后在界面上展示结果

## 性能要求
- 图片生成时间应控制在合理范围内
- 小程序应能流畅运行在各种规格的手机设备上

## 隐私与安全
- 用户输入的提示词不会被永久存储
- 遵循微信小程序的相关隐私政策和规范

## 未来可能的扩展
- 图片分享功能
- 更多图片风格选项
- 图片编辑功能 
```

如果觉得这一步没问题了，可以先提交消息，进行版本控制，然后继续往下走。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4db7e7aa6a854aee9a3ad9689aca4d49~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=460&h=351&s=41626&e=png&b=181818)

技术文档
----

打开 Cursor 聊天窗口，输入下面的提示词，生成技术文档。

```swift
根据需求分析文档 @需求分析文档.md，生成一个技术方案文档，包含项目目录结构。

注意，这只是一个技术方案文档，不需要写具体代码实现，只需要写技术方案即可。

结果保存到 docs/技术方案.md 文件中
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21f9dfd9f3d847f48e741b4e4ac56579~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=676&h=276&s=41796&e=png&b=1a1a1a)

以下是第一次生成技术方案文档关于系统架构设计的描述

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2001cd7e07dc4e19aed1b3ffbb6e668b~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=735&h=392&s=71347&e=png&b=1a1a1a) ![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c0b041178ba4c4ea9d25004ad784d61~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=618&h=309&s=47588&e=png&b=191919)

关于整体架构和数据流向部分，中间有几个平台的交互，文字描述不够直观，我们让 Cursor 帮我们画一个流程图。输入以下提示词

```markdown
1. 数据流向采用时序图的方式
2. 整体架构也可采用流程图的方式 + 文字描述
3. 注意 Coze API 密钥不要泄漏，请描述如何保证这个密钥的安全性
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0bb6ccee5fef431b953900670fb2747d~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=664&h=227&s=41546&e=png&b=1a1a1a)

加上流程图的描述后，看起来更直观了。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4d5f254c19941959223f8c4280f08a7~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=763&h=594&s=70984&e=png&b=fafafa)

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ef5591ca3bf4211a1dbe778607de9fa~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1007&h=542&s=38873&e=png&b=f5f5f5)

上面我有提到过让 Cursor 重点描述如何保证 Coze API 密钥的安全性，通过流程图也能看到小程序前端没有直接调用 Coze API，而是先调用云函数，云函数再调用 Coze API。

当我们调用第三方 API 时，都会涉及 API 密钥。不要直接将任何涉及到金额的 API 密钥写在前端代码中，可能会被反编译或抓包工具（如 Charles 或 Fiddler）捕获，导致密钥泄露。我们通常会通过后端代理来调用第三方 API（如 Coze API），以保护 API 密钥的安全性。

我们选取的代理方案是使用腾讯云的云函数。云函数是腾讯云提供的一种无服务器计算服务，它让开发者可以编写和运行代码，而无需管理服务器基础设施。云函数可以自动扩展，按需运行，并提供弹性计算能力。第一个月免费使用，后面可以采用按量付费的方式。这适合我们这种小规模的应用。

尽管我们在一开始强调了不要在技术方案里写具体代码实现，但有时候 Cursor 还是会给我们生成一些代码。我们需要移除这些代码，只保留技术方案。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b251a0164704117ac8828bd81049621~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1284&h=280&s=67233&e=png&b=1a1a1a)

如果觉得技术方案没问题了，可以先提交消息，进行版本控制，然后继续往下走。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fa4794dcbe3c4db995dfcdc5dac29997~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=583&h=253&s=29208&e=png&b=191919)

UI/UX 设计
--------

最近一个比较流行的方法是让 Cursor 以 HTML 的格式生成 UI/UX 设计图。打开 Cursor 聊天窗口，输入下面的提示词：

```markdown
参考文档 @需求分析文档.md  @技术方案.md   请以资深UI设计师身份，为微信小程序项目 “AI文生图”  设计 UI/UX 原型。要求：

1. 遵循Material Design设计规范，采用移动端优先策略；
2. 采用Material Design配色系统，包含适当的投影和动效；
3. 以产品经理的角度思考应用的交互效果
4. 使用标准HTML5+CSS3实现，输出单页完整HTML文件，包含注释说明组件用途。

结果写入到项目 docs/ui-ux.html 文件中
```

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5ef0c1ab49a4476ac500828f5f80af5~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=745&h=975&s=181563&e=png&b=1e1d1d)

以下为初次生成的 UI/UX 设计图，效果看起来还不错。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/60183301450b464d9d01c130c07b8247~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=419&h=931&s=60492&e=png&b=f9f9f9)

有一些地方还不太满足需求，我们进行第一次优化。输入以下提示词

```
底部的 “首页、发现、我的” 移除掉，右下角的分享按照也去掉
在生成的图片底部增加两个按钮，分别是保存到相册和重新生成， 按钮的文字前面增加一些图标设计
```

优化之后发现，保存到相册和重新生成两个按钮样式不好看，并且两个按钮还换行了，我们再进行第二次优化。输入以下提示词

```
保存到相册和重新生成两个按钮样式太丑了，并且两个按钮不要换行，要在同一行展示
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d6ed319632c9444ba9f9ce181fd4c915~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=839&h=336&s=100564&e=png&b=191919)

以下是优化后的最终 UI/UX 设计图，看起来好多了。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e4cbe26a12a943539579906890a79405~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=425&h=940&s=262442&e=png&b=fbfbfb)

规划实现步骤
------

打开 Cursor 聊天窗口，输入下面的提示词，生成实现步骤。

和前面两个示例不同，因为我们前面已经生成了 UI/UX 设计图，所以这里需要根据设计图来生成实现步骤，不需要生成页面示意图。

```swift
根据  @需求分析文档.md @技术方案.md  文档和设计图，规划实现的步骤，结果以 Markdown 格式写入到 docs/实现步骤.md 文件中。
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/40226a44d4f641289731b8ba4c1177ae~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1408&h=937&s=249494&e=png&b=1b1b1a)

如果觉得实现步骤没问题了，提交消息，进行版本控制。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b386de921e5443ab3cf56da4094f505~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=496&h=258&s=29576&e=png&b=191919)

总结
--

通过本文，我们展示了如何利用 Cursor 这一 AI 工具辅助完成微信小程序开发前的准备工作。我们从需求分析开始，逐步完成了技术方案设计、UI/UX 原型创建和实现步骤规划。每一步都采用了简单明了的提示词，让 Cursor 生成高质量的文档。

在整个过程中，我们看到 Cursor 不仅能够生成文本文档，还能创建可交互的 UI 原型。通过进一步的调整和优化，我们得到了符合需求的设计和文档。这种方式大大提高了开发前期的效率，让开发者可以更快地将想法转化为具体的计划和设计。

重要的是，我们在每一步完成后都进行了版本控制（这个主要是自己要养成习惯，在其它模块开发时也同样要保持这个习惯），这确保了我们随时可以回退到之前的状态，避免出现不可挽回的错误。