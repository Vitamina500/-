AI新手网，https://aixinshou.com/  全站9.9元终身免费下载！

微信小程序是一种新的开放能力。开发者可以快速开发一个小程序。小程序可以在微信内被便捷地获取和传播。本文将介绍如何搭建微信小程序的开发环境。

注册小程序账号
-------

### 账号分类

微信平台提供了三种类型的账号：

1.  **服务号**：给企业和组织提供更强大的业务服务与用户管理能力，帮助企业在微信内快速实现全新的服务平台。
2.  **公众号**：为媒体和个人提供一种新的信息传播方式，构建与读者之间更好的沟通与管理模式。
3.  **小程序**：一种新的开放能力，可以在微信内被便捷地获取和传播。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35cdb066baae43bd8047f08f668b412c~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=977&h=368&s=46327&e=png&b=fefefe)

### 注册步骤

1.  访问微信公众平台 [mp.weixin.qq.com/](https://mp.weixin.qq.com/ "https://mp.weixin.qq.com/")
    
2.  选择"小程序"账号类型
    
3.  点击"前往注册"
    
4.  填写账号信息：邮箱和密码，注意邮箱需要是未注册过微信公众平台的邮箱，注册过公众号也不行。
    
    ![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/222dfb1d48de4b3c9875a03db9e84f9e~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1380&h=904&s=89591&e=png&b=ffffff)
    
5.  填写主体信息：个人/企业/政府/媒体/其他组织，根据自己的情况选择。我们课程中使用个人主体即可。
    
    ![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b166220a22b546b9a2c98253cc0eadc6~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=974&h=943&s=90804&e=png&b=fefefe)
    
6.  提交身份证件和手机号进行验证
    
7.  完成注册
    

开发工具准备
------

微信官方提供了专门的开发工具，可以帮助开发者高效开发小程序。

### 微信开发者工具

1.  下载微信开发者工具，参考以下图中指引步骤。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1dad30208cf4bb78fbfc3be6746cd6d~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2183&h=787&s=96957&e=png&b=f7f8fa)

2.  安装开发者工具（支持 Windows、macOS 系统）
3.  打开开发者工具并登录微信账号，登录之后如下所示，会展示当前所有的小程序项目。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f469903de4004f13bde7b7e11f7aad84~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=697&h=691&s=41573&e=png&b=292929)

配置开发环境
------

在我们创建项目前，还有一些准备工作需要完成。

### 获取小程序 AppID

AppID（小程序 ID）是小程序的唯一标识，开发时必须配置：

1.  登录微信公众平台
2.  进入"开发管理"菜单
3.  在"开发设置"页面查看 AppID

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44f7533e257248cfb533172a8650faa3~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1110&h=454&s=46398&e=png&b=f6f7f9)

这个 AppID 先保存好，后面创建项目时需要用到。

### 服务器域名配置

如果你的小程序需要使用网络请求，必须配置合法域名：

1.  在微信公众平台的"开发管理"中选择"开发设置"
2.  找到"服务器域名"配置区域
3.  添加你需要的 request 合法域名和 socket 合法域名
4.  点击右侧 "修改" 按钮

以下两个域名是在云函数中调用的，这里也要配置下。

```arduino
https://api.coze.cn
wss://api.coze.cn
```

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/efff3796640143ed9c28c057d2a91d98~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2166&h=330&s=64675&e=png&b=ffffff)

注意：

*   域名必须经过 ICP 备案
*   必须使用 HTTPS 协议
*   每月可修改域名配置 50 次

### 创建项目

1.  打开微信开发者工具
2.  点击"+"创建新项目
3.  填写项目信息：
    *   项目名称
    *   目录：项目存储位置
    *   AppID：刚才保存的 AppID
    *   后端服务：因为我这个小程序 AppID 已经开通过云开发，所以这里默认选择了云开发。
    *   选择开发模式：小程序
4.  点击 "创建" 完成项目创建

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf3b1a9ce93442c7a043609fb02a4023~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=696&h=693&s=42000&e=png&b=292929)

还有的打开是下面这个样子，如果模版选择不想使用模版后，上面必须选择 "不使用云服务"，但创建项目后，还是可以再选择云开发的。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f764f645085c4d2f879b95c61190e0b5~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=696&h=696&s=47747&e=png&b=292929)

开发工具使用
------

微信开发者工具提供了完整的开发环境：

1.  **编辑器**：支持代码高亮、自动补全等功能
2.  **调试器**：查看控制台日志、网络请求等
3.  **模拟器**：实时预览小程序运行效果
4.  **云开发**：提供云函数、数据库和存储功能

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af3d778dca4f4e1fa1d153843a8b5b9c~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1604&h=990&s=126554&e=png&b=292929) 这个报错是因为缺少一些文件，我们后面再补充。

我们使用微信开发者工具打开项目后，主要是用它自带的模拟器查看项目的运行结果和日志输出。

真正的代码还是用 Cursor 编写。

创建云函数
-----

点击模拟器上方的 "云开发" 按钮，进入云开发控制台。

选择 "云函数" 菜单，点击 "新建" 按钮，创建云函数。

我之前已经创建过了，所以这里我创建的是第二个云函数，命名为 "generateImageV2"，这个名字根据自己项目需求来命名。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8efaadd68d7d4622af374a61195f4382~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1363&h=570&s=125203&e=png&b=2e2e2e)

创建好的云函数如下所示

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c539c4838d98443cb17ec9b415cddc77~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1176&h=326&s=50279&e=png&b=303030)

接下来我们需要将云函数代码同步到本地仓库，首先确保配置云函数配置正确。

回到 Cursor 编辑器，微信小程序第一项目创建后，会在项目根目录下创建 project.config.json 文件，我们打开它，在根目录下添加云函数配置。

```json
{
	"cloudfunctionRoot": "cloudfunctions/"
}
```

记得在项目根目录先创建一个 cloudfunctions 目录，云函数就放在这个目录下。

直接让 Cursor 修改 project.config.json 文件，添加云函数配置。提示词如下：

```ruby
云函数的根目录设置错误，正确的为 "cloudfunctionRoot": "cloudfunctions/"

参考 @https://developers.weixin.qq.com/minigame/dev/wxcloud/guide/functions/getting-started.html 
```

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ad463d5cb44452889b58dad65411f27~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1486&h=856&s=212510&e=png&b=191919)

切换到微信开发者工具，在资源管理器中，可看到云函数目录和其它目录看起来是有区别的，后面跟了一个当前环境。

鼠标右击云函数目录，选择 "同步云函数列表" 按钮，将云函数列表同步到本地。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f26bcb1158c444099849a6c73a7a122d~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1027&h=653&s=131957&e=png&b=2b2b2b)

同步成功后，在本地云函数目录下会看到我们创建的云函数。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29135565c2934ab3ad4ed1f0c5af96e0~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=510&h=113&s=10362&e=png&b=303030)

总结
--

本文介绍了微信小程序开发环境的搭建过程。我们学习了微信小程序账号注册、开发工具安装、项目创建和云函数配置等内容。通过这些步骤，你已经可以开始微信小程序的开发了。