AI新手网，https://aixinshou.com/  全站9.9元终身免费下载！

在上一章节中，我们成功实现了图片压缩的基本功能。本章将继续完善我们的图片压缩应用，重点实现三个核心模块：压缩后图像预览对比、历史记录和设置功能。这些功能将大大提升用户体验，使应用更加完整和实用。通过本章的学习，我们将看到如何与Cursor协作，逐步完善一个功能齐全的桌面应用。

## 压缩后图像预览对比模块

我们首先要实现图像压缩前后的预览对比功能。这个功能可以让用户清楚地看到压缩前后的图像差异。

根据之前的设计图，Cursor为我们规划了四种预览对比模式：左右分屏、滑动条、放大镜和叠加模式。

我们把需求文档和示意图文件拖到Chat窗口中，让Cursor在主页面的预览区域实现这个功能。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bb3e5cf309d4274a8dc727d16743c9c~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=712&h=286&s=53872&e=png&b=272727)

实现过程中遇到了一个问题。我原本以为图片压缩后，预览区会自动显示压缩后的图片。但当功能实现后，预览区却是空白的。我多次询问Cursor，甚至有些着急。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c30512cd252487e828780c3b9ae8034~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2004&h=634&s=79112&e=png&b=fcfcfc)

直到Cursor提醒"点击预览按钮后没有显示图片对比"，我才意识到自己理解错了。原来压缩完成后，需要点击预览按钮才能查看对比效果。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eef9d145279f4ba5a189ba7df2918bc7~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=708&h=237&s=36091&e=png&b=242424)

在图片列表中，有一个小眼睛图标，点击它就可以查看压缩后的图片。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83d46fe222974674b0639c792063ffef~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1992&h=1474&s=1253171&e=png&b=fdfdfd)

这个模块还有一些小问题，但通过与Cursor的几次交互，很快就解决了。

## 历史记录模块

接下来，我们开始实现历史记录功能。我们打开一个新的Chat窗口，把需求文档和示意图拖进去，简单说明与首页的交互位置。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab3ea365fb044b69b4b2a9d3e0e7949c~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=700&h=227&s=42323&e=png&b=252525)

第一次实现后，我发现只加载了当前的压缩图片，历史图片没有显示。从日志中看到压缩图片的输出目录，我把这个信息提供给Cursor，让它加载历史压缩图片。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f2bc45519f9749d8aba8ba74e58dce6e~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=703&h=203&s=36629&e=png&b=2b2b2b)

Cursor以弹窗形式展示历史记录，效果不错，还包含了分页功能。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c353f99901a74f8ebfcde2eaf3e0ca01~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=2032&h=1520&s=561232&e=png&b=fefefe)

不过我发现点击"清空历史记录"时，没有二次确认就直接清空了。我把这个问题反馈给Cursor。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1cd52164f6d4cf3af4e245431e25662~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=701&h=150&s=18751&e=png&b=2a2a2a)

添加二次确认后的效果如下：

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59b99b97031f43109a1321054874e885~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1142&h=336&s=51856&e=png&b=fcfcfc)

这个模块的实现比较顺利，没有太多交互问题。可能也是相对简单吧。

## 设置模块

最后，我们实现设置模块。同样打开新的Chat窗口，把需求文档和示意图拖进去。这次我特别强调，让Cursor不要影响其他模块，因为之前发现它会在"高级设置"中添加代码，影响原有样式。

我希望顶部的设置功能独立于图片压缩区块。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/692e0a29c4ce4ea5afbc6ebe6535ccc1~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=712&h=300&s=59621&e=png&b=272727)

实现效果与设计图基本一致，但"输出目录"的表述有些模糊，不清楚是指下载输出还是压缩输出。

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d0f879140864c5898b04cb03e0f688e~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1244&h=1172&s=111688&e=png&b=f8f9fa)

我让Cursor优化存储位置的表述，分别改为"下载输出目录"和"压缩文件存放目录"，并修改相关联的地方。

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d80d7c5829584318bb040e96e2d9c7b8~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=710&h=353&s=43810&e=png&b=282828)

优化后的效果：

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac8cebb5341d4871b01599cc5670a632~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1262&h=1124&s=137543&e=png&b=f8f9fa)

## 界面优化

完成主要功能后，我们对界面进行了一些优化：

### 1\. 修复顶部拖拽问题

页面顶部拖拽没反应，我把截图发给Cursor请求修复。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17438d9c04a5487081459575d0a531d3~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=647&h=259&s=24948&e=png&b=252525)

### 2\. 添加底部版权信息

底部左侧功能作用不大，我们让Cursor把它替换为版权信息。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9bac3653cb07414eb8800ba4211720d5~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=628&h=222&s=23202&e=png&b=292929)

### 3\. 添加顶部Logo

在顶部左侧增加Logo，并调整位置。

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0024e5b963ff4c35b1833cd027d9069b~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1017&h=157&s=27653&e=png&b=212121)

经过这些优化，我们的图片压缩应用界面更加完善：

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd7baaf46aa64a128ae013bca0dccdd8~tplv-k3u1fbpfcp-jj-mark:1600:0:0:0:q75.jpg#?w=1031&h=808&s=86340&e=png&b=f9f9f9)

## 总结

至此，我们已经完成了图片压缩应用的所有核心功能模块：图片压缩、预览对比、历史记录和设置功能。通过与Cursor的交互，我们不仅实现了基本功能，还解决了各种细节问题，优化了用户界面。

这个过程展示了如何利用AI辅助工具快速开发一个功能完整的桌面应用。虽然过程中遇到了一些理解偏差和小问题，但通过有效沟通，都得到了很好的解决。

下一步，我们将进入打包构建阶段，把这个应用变成可分发的桌面软件。